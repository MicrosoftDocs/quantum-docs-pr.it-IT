---
title: Guida alla revisione della lingua e alla migrazione di QDK 0,3
description: 'Vengono descritte le nuove funzionalità della Microsoft Quantum Development Kit 0,3 e viene illustrato come eseguire la migrazione di programmi Q # esistenti.'
author: beheim
uid: microsoft.quantum.relnotes.migration-0-3
ms.author: bettina.heim@microsoft.com
ms.date: 10/29/2018
ms.topic: article
ms.openlocfilehash: a715185059e37e3805caf48e7fae6f5ed3372dba
ms.sourcegitcommit: 2317473fdf2b80de58db0f43b9fcfb57f56aefff
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/15/2020
ms.locfileid: "83426797"
---
# <a name="qdk-03-language-release-notes-and-migration-guide"></a><span data-ttu-id="9937c-103">Note sulla versione del linguaggio QDK 0,3 e guida alla migrazione</span><span class="sxs-lookup"><span data-stu-id="9937c-103">QDK 0.3 language release notes and migration guide</span></span>

<span data-ttu-id="9937c-104">Siamo lieti di introdurre l'aggiornamento più recente per Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="9937c-104">We are excited to introduce the newest update to the Quantum Development Kit.</span></span>  <span data-ttu-id="9937c-105">Questa pagina offre una panoramica delle nuove funzionalità del linguaggio Q # e illustra come [eseguire la migrazione](#Migration) di programmi q # esistenti alla nuova sintassi.</span><span class="sxs-lookup"><span data-stu-id="9937c-105">This page gives an overview of the new Q# language features and describes how to [migrate](#Migration) existing Q# programs to the new syntax.</span></span>  <span data-ttu-id="9937c-106">Per la descrizione completa del linguaggio Q #, vedere [qui](xref:microsoft.quantum.guide.basics)la documentazione completa.</span><span class="sxs-lookup"><span data-stu-id="9937c-106">See our complete documentation for the full description of the Q# language [here](xref:microsoft.quantum.guide.basics).</span></span>


## <a name="whats-new"></a><span data-ttu-id="9937c-107">Novità</span><span class="sxs-lookup"><span data-stu-id="9937c-107">What's New</span></span> 

<span data-ttu-id="9937c-108">L'aggiornamento 0,3 include una gamma di nuove funzionalità di linguaggio e di editor.</span><span class="sxs-lookup"><span data-stu-id="9937c-108">The 0.3 update comes with a range of new language and editor features.</span></span>

### <a name="overview-of-features"></a><span data-ttu-id="9937c-109">Cenni preliminari sulle funzionalità</span><span class="sxs-lookup"><span data-stu-id="9937c-109">Overview of Features</span></span>

- <span data-ttu-id="9937c-110">Integrazione avanzata degli strumenti di sviluppo per Visual Studio e Visual Studio Code, tra cui:</span><span class="sxs-lookup"><span data-stu-id="9937c-110">Enhanced development tool integration for Visual Studio and Visual Studio Code, including:</span></span>
    - <span data-ttu-id="9937c-111">Compilazione e feedback in tempo reale sulla digitazione (*noto* anche come</span><span class="sxs-lookup"><span data-stu-id="9937c-111">Live compilation and feedback on typing (*a.k.a.*</span></span> <span data-ttu-id="9937c-112">sottolineatura ondulata).</span><span class="sxs-lookup"><span data-stu-id="9937c-112">squiggly underlining).</span></span>
    - <span data-ttu-id="9937c-113">Informazioni sul passaggio del mouse, inclusi riepiloghi della documentazione e firme di tipi.</span><span class="sxs-lookup"><span data-stu-id="9937c-113">Hover information including documentation summaries and type signatures.</span></span>
    - <span data-ttu-id="9937c-114">Supporto per Vai a definizione.</span><span class="sxs-lookup"><span data-stu-id="9937c-114">Support for go to definition.</span></span>
    - <span data-ttu-id="9937c-115">Navigazione semplificata per le dichiarazioni di spazio dei nomi, operazione, funzione e tipo.</span><span class="sxs-lookup"><span data-stu-id="9937c-115">Easy navigation to namespace, operation, function, and type declarations.</span></span>
    - <span data-ttu-id="9937c-116">Messaggi di diagnostica migliorati.</span><span class="sxs-lookup"><span data-stu-id="9937c-116">Improved diagnostic messages.</span></span>
- <span data-ttu-id="9937c-117">Miglioramenti del linguaggio</span><span class="sxs-lookup"><span data-stu-id="9937c-117">Language improvements</span></span>
    - <span data-ttu-id="9937c-118">Singole inizializzazioni di qubit e tuple all'interno di using e borrowing</span><span class="sxs-lookup"><span data-stu-id="9937c-118">Single qubit and tuple initializations within using and borrowing</span></span>
    - <span data-ttu-id="9937c-119">Decostruzione di Tuple per tutte le assegnazioni</span><span class="sxs-lookup"><span data-stu-id="9937c-119">Tuple deconstruction on all assignments</span></span>
    - <span data-ttu-id="9937c-120">Iterazione su matrici</span><span class="sxs-lookup"><span data-stu-id="9937c-120">Iteration over arrays</span></span>
    - <span data-ttu-id="9937c-121">Espressioni condizionali</span><span class="sxs-lookup"><span data-stu-id="9937c-121">Conditional expressions</span></span>
    - <span data-ttu-id="9937c-122">Abbreviazione di specializzazione predefinita per le operazioni</span><span class="sxs-lookup"><span data-stu-id="9937c-122">Default-specialization abbreviation for operations</span></span>
    - <span data-ttu-id="9937c-123">Costruttori di tipi generati automaticamente</span><span class="sxs-lookup"><span data-stu-id="9937c-123">Auto-generated type constructors</span></span>
    - <span data-ttu-id="9937c-124">Modificatori di espressione</span><span class="sxs-lookup"><span data-stu-id="9937c-124">Expression modifiers</span></span>


## <a name="editor-features"></a><span data-ttu-id="9937c-125">Funzionalità dell'editor</span><span class="sxs-lookup"><span data-stu-id="9937c-125">Editor Features</span></span>

<span data-ttu-id="9937c-126">Quantum Development Kit include ora un server di linguaggio per Q #, nonché le integrazioni client per Visual Studio e Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="9937c-126">The Quantum Development Kit now includes a language server for Q#, as well as the client integrations for Visual Studio and Visual Studio Code.</span></span>
<span data-ttu-id="9937c-127">È quindi ora disponibile un nuovo set di funzionalità di IntelliSense, oltre al feedback in tempo reale sulla digitazione sotto forma di sottolineature ondulate di errori e avvisi.</span><span class="sxs-lookup"><span data-stu-id="9937c-127">This enables a new set of IntelliSense features along with live feedback on typing in form of squiggly underlinings of errors and warnings.</span></span>
<span data-ttu-id="9937c-128">In particolare, vai a definizione è ora supportato e vengono visualizzate le informazioni relative al passaggio del mouse contenenti informazioni sul tipo, oltre alle informazioni contenute nella documentazione dei commenti.</span><span class="sxs-lookup"><span data-stu-id="9937c-128">In particular, go to definition is now supported and hover information is displayed containing type information as well as information from documenting comments.</span></span> <span data-ttu-id="9937c-129">Inoltre, le informazioni sui simboli relativi a spazi dei nomi, operazioni, funzioni e tipi definiti sono disponibili e consentono di passare rapidamente alle dichiarazioni.</span><span class="sxs-lookup"><span data-stu-id="9937c-129">Additionally, symbol information about defined namespaces, operations, functions, and types is available and allows to quickly navigate to declarations.</span></span>    
<span data-ttu-id="9937c-130">Questo aggiornamento migliora notevolmente i messaggi di diagnostica in generale, con l'esplorazione semplificata e intervalli precisi per la diagnostica, oltre a dettagli aggiuntivi nelle informazioni visualizzate al passaggio del mouse.</span><span class="sxs-lookup"><span data-stu-id="9937c-130">This update greatly improves diagnostic messages in general, with easy navigation to and precise ranges for diagnostics and additional details in the displayed hover information.</span></span> 

<span data-ttu-id="9937c-131">Per questa versione 0,3, il server di linguaggio incluso in Quantum Development Kit non supporta più aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9937c-131">For this 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
<span data-ttu-id="9937c-132">Per utilizzare un progetto in VS Code, aprire la cartella radice contenente il progetto stesso e tutti i progetti a cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="9937c-132">In order to work with a project in VS Code, open the root folder containing the project itself and all referenced projects.</span></span>
<span data-ttu-id="9937c-133">Per gestire una soluzione in Visual Studio, è necessario che tutti i progetti contenuti nella soluzione si trovino nella stessa cartella della soluzione o in una delle relative sottocartelle.</span><span class="sxs-lookup"><span data-stu-id="9937c-133">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>

## <a name="language-features"></a><span data-ttu-id="9937c-134">Funzionalità del linguaggio</span><span class="sxs-lookup"><span data-stu-id="9937c-134">Language Features</span></span>

<span data-ttu-id="9937c-135">In termini di funzionalità del linguaggio, questo aggiornamento unifica il trattamento di una gamma di modelli di linguaggio.</span><span class="sxs-lookup"><span data-stu-id="9937c-135">In terms of language features, this update unifies the treatment of a range of language patterns.</span></span>
<span data-ttu-id="9937c-136">I costruttori di tipo, ad esempio, vengono generati per ogni tipo definito dall'utente e possono essere applicati parzialmente in modo analogo a qualsiasi altra funzione.</span><span class="sxs-lookup"><span data-stu-id="9937c-136">Type constructors, as an example, are generated for each user defined type and can be partially applied much like any other function.</span></span>
<span data-ttu-id="9937c-137">Un altro esempio è la decostruzione di tuple, che ora è completamente supportata all'interno di tutte le assegnazioni.</span><span class="sxs-lookup"><span data-stu-id="9937c-137">Another example is tuple deconstruction, which is now fully supported within all assignments.</span></span> <span data-ttu-id="9937c-138">Sono incluse non solo le istruzioni set-, mutable-e set-, ma anche la variabile di iterazione nei cicli for, nonché l'uso di-e le allocazioni in prestito.</span><span class="sxs-lookup"><span data-stu-id="9937c-138">This includes not only let-, mutable-, and set-statements, but also the iteration variable in for-loops as well as using- and borrowing-allocations.</span></span> <span data-ttu-id="9937c-139">Inoltre, le decostruzioni parziali sono appena supportate con l'aggiornamento 0,3; i caratteri di sottolineatura nelle decostruzioni indicano parti del valore che devono essere ignorate.</span><span class="sxs-lookup"><span data-stu-id="9937c-139">Additionally, partial deconstructions are newly supported with the 0.3 update; underscores in deconstructions indicate parts of the value that are to be ignored.</span></span> 

<span data-ttu-id="9937c-140">Il codice seguente illustra alcune delle nuove funzionalità:</span><span class="sxs-lookup"><span data-stu-id="9937c-140">The following code illustrates some of the new features:</span></span>
```qsharp
    let tuples = [(1, 0), (0, 1)];
    mutable res = (0, 0, 0);

    // For-loops can iterate over arrays, and can destructure tuples.
    for ((i1, i2) in tuples) {

        // Mutable assignments can now destructure and ignore parts of tuples,
        // using the same syntax as let-bindings.
        mutable (r1, r2, _) = res;
        set (r1, r2) = (r1 ||| i1, r2 &&& i2);

        let (_, _, s) = res;
        // The new conditional operator can be used inside expressions, avoiding
        // the need for extraneous if-statements.
        set res = (r1, r2, r1 == r2 ? s | s + 1);
    }
```
<span data-ttu-id="9937c-141">L'ultima istruzione set usa un nuovo operatore ternario introdotto con l'aggiornamento 0,3 per supportare le espressioni condizionali.</span><span class="sxs-lookup"><span data-stu-id="9937c-141">The last set statement uses a new ternary operator that is introduced with the 0.3 update to support conditional expressions.</span></span>
<span data-ttu-id="9937c-142">Un'espressione condizionale è un'espressione nel formato `condition ? caseTrue | caseFalse` .</span><span class="sxs-lookup"><span data-stu-id="9937c-142">A conditional expression is an expression of the form `condition ? caseTrue | caseFalse`.</span></span>
<span data-ttu-id="9937c-143">Come si può notare dall'esempio precedente, è ora supportata anche l'iterazione sulle matrici.</span><span class="sxs-lookup"><span data-stu-id="9937c-143">As can be seen from the example above, iteration over arrays is now also supported.</span></span>

<span data-ttu-id="9937c-144">Le allocazioni all'interno `using` di e `borrowing` sono nuove possibili per singole qubits, matrici qubit e Tuple nidificate:</span><span class="sxs-lookup"><span data-stu-id="9937c-144">Allocations within `using` and `borrowing` are newly possible for single qubits, qubit arrays, and nested tuples thereof:</span></span>
```qsharp
    using (qubit = Qubit()) {
        // qubit contains a single qubit
    }

    borrowing ((qubits, qubit) = (Qubit[3], Qubit())) {
        // qubits contains an array of three qubits, and qubit contains a single qubit
    }
```

<span data-ttu-id="9937c-145">Sono state introdotte due nuove direttive del generatore di specializzazione `invert` , oltre a, `distribute` `auto` per aumentare il controllo sulla modalità di generazione delle specializzazioni di Funct.</span><span class="sxs-lookup"><span data-stu-id="9937c-145">Two new specialization generator directives `invert` and `distribute` in addition to `auto` are introduced to increase control over how functor specializations are generated.</span></span>
<span data-ttu-id="9937c-146">Una dichiarazione esplicita della `body` specializzazione predefinita all'interno delle operazioni non è più obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="9937c-146">An explicit declaration of the default `body` specialization within operations is no longer mandatory.</span></span>
<span data-ttu-id="9937c-147">Analogamente alle funzioni, le istruzioni possono essere aggiunte direttamente alla dichiarazione dell'operazione se nessuna altra specializzazione viene dichiarata all'interno dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="9937c-147">Similar to functions, statements may be directly added to the operation declaration itself if no other specialization is declared within the operation.</span></span>
<span data-ttu-id="9937c-148">Uno script di migrazione è incluso nella versione per facilitare la migrazione del codice esistente e sfruttare i vantaggi delle nuove funzionalità del linguaggio. vedere la [sezione relativa allo script di migrazione](#MigrationScript).</span><span class="sxs-lookup"><span data-stu-id="9937c-148">A migration script is included in the release to help migrating existing code and taking advantage of new language features (see the [section on the migration script](#MigrationScript)).</span></span>

<span data-ttu-id="9937c-149">Una modifica importante per il modo in cui vengono trattati i tipi definiti dall'utente viene fornita con l'aggiornamento 0,3.</span><span class="sxs-lookup"><span data-stu-id="9937c-149">A major change in how user-defined types are treated comes with the 0.3 update.</span></span> <span data-ttu-id="9937c-150">Mentre le versioni precedenti consideravano i tipi definiti dall'utente come sottotipi del relativo tipo sottostante, questo non è più il caso in futuro (vedere anche la [sezione relativa alle modifiche di rilievo](#BreakingChanges)).</span><span class="sxs-lookup"><span data-stu-id="9937c-150">While prior releases treated user defined types as subtypes of their underlying type, this is no longer the case going forward (see also the [section on breaking changes](#BreakingChanges)).</span></span>  
<span data-ttu-id="9937c-151">Come parte di questa modifica, vengono introdotti i modificatori di espressioni che possono essere applicati a determinate espressioni.</span><span class="sxs-lookup"><span data-stu-id="9937c-151">As part of this change we introduce expression modifiers that can be applied to certain expressions.</span></span> <span data-ttu-id="9937c-152">Le espressioni "atomiche" a cui è possibile applicare i modificatori sono gli identificatori, le espressioni di elementi della matrice e le tuple grado-1.</span><span class="sxs-lookup"><span data-stu-id="9937c-152">The "atomic" expressions that modifiers can be applied to are identifiers, array item expressions, and arity-1 tuples.</span></span>
<span data-ttu-id="9937c-153">I modificatori si associano più rigorosamente a qualsiasi altro combinatore di espressioni e in particolare più rigoroso del combinatore delle espressioni di chiamata `(` `)` .</span><span class="sxs-lookup"><span data-stu-id="9937c-153">Modifiers bind tighter than any other expression combinator, and in particular tighter than the call-expression combinator `(` `)`.</span></span> 
<span data-ttu-id="9937c-154">`Adjoint`, `Controlled` e un nuovo operatore di suffisso "Unwrap" `!` vengono trattati come modificatori di espressione.</span><span class="sxs-lookup"><span data-stu-id="9937c-154">`Adjoint`, `Controlled`, and a new "unwrap" postfix operator `!` are treated as expression modifiers.</span></span> <span data-ttu-id="9937c-155">Il trattamento di `Adjoint` e `Controlled` come modificatori di espressione Elimina la necessità di parentesi per diversi casi.</span><span class="sxs-lookup"><span data-stu-id="9937c-155">Treating `Adjoint` and `Controlled` as expression modifiers eliminates the need for parenthesis for a lot of cases.</span></span> <span data-ttu-id="9937c-156">Le espressioni seguenti, ad esempio, sono valide in futuro per `Op` , un'operazione unitaria, `opArr` una matrice di operazioni unitarie e `arg` un argomento appropriato:</span><span class="sxs-lookup"><span data-stu-id="9937c-156">The expressions below for example are valid going forward for `Op`, a unitary operation, `opArr` an array of unitary operations, and `arg` a suitable argument:</span></span> 
```qsharp
    Adjoint Op (arg);
    Controlled opArr[i] (arg);
```
<span data-ttu-id="9937c-157">Lo script di migrazione eliminerà la maggior parte delle parentesi superflue e approfitterà di tutte le nuove funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9937c-157">The migration script will drop most of the unnecessary parenthesis and take full advantage of the new features.</span></span> <span data-ttu-id="9937c-158">Tuttavia, tenere presente che lo script non interpreta il codice e non tiene conto della diversa interpretazione del `Controlled` functore in rari casi (pertinente solo in combinazione con applicazioni parziali).</span><span class="sxs-lookup"><span data-stu-id="9937c-158">However, be advised that the script does not interpret the code, and will not account for the different interpretation of the `Controlled` functor in rare cases (only relevant in combination with partial applications).</span></span>

<span data-ttu-id="9937c-159">Il nuovo modificatore `!` esegue il cast di un tipo definito dall'utente al relativo tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="9937c-159">The new modifier `!` casts a user-defined type to its underlying type.</span></span> <span data-ttu-id="9937c-160">Questo cast è stato considerato un cast nelle versioni precedenti ed è stato eseguito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="9937c-160">This cast has been considered an upcast in previous releases and was executed automatically.</span></span> <span data-ttu-id="9937c-161">Con la nuova interpretazione dei tipi definiti dall'utente, questo non è più il caso ed è necessario rendere esplicito il cast.</span><span class="sxs-lookup"><span data-stu-id="9937c-161">With the new interpretation of user defined types this is no longer the case and the cast needs to be made explicit.</span></span>    
<span data-ttu-id="9937c-162">Nell'esempio seguente viene illustrato come utilizzare il nuovo modificatore:</span><span class="sxs-lookup"><span data-stu-id="9937c-162">The following example illustrates how to use the new modifier:</span></span> 
```qsharp
    newtype Unitary = (Qubit => Unit: Adjoint, Controlled);

    operation Foo (unitaries : Unitary[], qubit : Qubit) : Unit {

        for (unitary in unitaries[1 .. Length(unitaries)-1]) {
            // Each element of unitaries is an instance of the user-defined
            // type Unitary, so unitary! unwraps each element to an operation
            // type that we can call.
            unitary! (qubit);
            // The unwrap operator can also be used as a part of functor
            // expressions and when indexing into arrays.
            Adjoint unitary! (qubit);
            Adjoint unitaries[0]! (qubit);
        }
    }
```
<span data-ttu-id="9937c-163">Come si può notare dall'esempio, `!` associa più restrittivi dei modificatori di prefisso, ad esempio `Controlled` e `Adjoint` .</span><span class="sxs-lookup"><span data-stu-id="9937c-163">As can be seen from the example, `!` binds tighter than prefix modifiers, like `Controlled` and `Adjoint`.</span></span>

## <a name="breaking-changes"></a><a name="BreakingChanges"></a><span data-ttu-id="9937c-164">Modifiche di rilievo</span><span class="sxs-lookup"><span data-stu-id="9937c-164">Breaking Changes</span></span> 

<span data-ttu-id="9937c-165">L'aggiornamento 0,3 include un nuovo compilatore e contiene alcune modifiche di rilievo.</span><span class="sxs-lookup"><span data-stu-id="9937c-165">The 0.3 update comes with a new compiler and contains a handful of breaking changes.</span></span>
<span data-ttu-id="9937c-166">Per facilitare l'aggiornamento del codice esistente, il compilatore fornisce anche un'opzione di formattazione che compila codice valido o non valido ed emette codice Q # formattato in base alla compilazione compilata.</span><span class="sxs-lookup"><span data-stu-id="9937c-166">To facilitate updating existing code, the compiler also provides a formatting option that compiles valid or invalid code and emits formatted Q# code based on the built compilation.</span></span>
<span data-ttu-id="9937c-167">Tutte le modifiche alla sintassi verranno elaborate automaticamente dallo strumento fornito.</span><span class="sxs-lookup"><span data-stu-id="9937c-167">All syntax changes will be processed automatically by the provided tool.</span></span> <span data-ttu-id="9937c-168">Tuttavia, le modifiche apportate al modo in cui il codice valido viene interpretato (modifiche semantiche) potrebbe essere necessario eseguire manualmente.</span><span class="sxs-lookup"><span data-stu-id="9937c-168">However, changes in how valid code is interpreted (semantic changes) may need to be made manually.</span></span> 

<span data-ttu-id="9937c-169">Oltre alle modifiche elencate di seguito, il modello `__*__` dove \* è qualsiasi sequenza di caratteri diversi da uno spazio è riservato per uso interno e non può essere usato come nome di simbolo.</span><span class="sxs-lookup"><span data-stu-id="9937c-169">In addition to the changes listed below, the pattern `__*__` where \* is any sequence of non-whitespace characters is reserved for internal use and cannot be used as a symbol name.</span></span>  

## <a name="syntax-changes"></a><span data-ttu-id="9937c-170">Modifiche della sintassi</span><span class="sxs-lookup"><span data-stu-id="9937c-170">Syntax Changes</span></span> 

- <span data-ttu-id="9937c-171">A partire dalla versione 0,3, gli elementi di matrice non sono più separati da punti e virgola, ma sono invece separati da virgole.</span><span class="sxs-lookup"><span data-stu-id="9937c-171">Starting with the version 0.3, array items are no longer separated by semicolons, but are separated by commas instead.</span></span>
- <span data-ttu-id="9937c-172">Un punto e virgola d'altra parte è necessario dopo una direttiva di generazione automatica per le dichiarazioni di specializzazione.</span><span class="sxs-lookup"><span data-stu-id="9937c-172">A semicolon on the other hand is required after an auto-generation directive for specialization declarations.</span></span>
- <span data-ttu-id="9937c-173">Le condizioni nelle clausole if-, elif-e until-devono essere incapsulate tra parentesi.</span><span class="sxs-lookup"><span data-stu-id="9937c-173">Conditions in if-, elif-, and until-clauses need to be encapsulated in parenthesis.</span></span> 

<span data-ttu-id="9937c-174">Per tutte le altre modifiche della sintassi, il compilatore genererà semplicemente un avviso se viene utilizzata la sintassi precedente.</span><span class="sxs-lookup"><span data-stu-id="9937c-174">For all other syntax changes the compiler will simply generate a warning if the old syntax is used.</span></span>     
<span data-ttu-id="9937c-175">Un esempio di tale modifica è la tupla dei simboli nelle specializzazioni definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="9937c-175">One example for such a change is the symbol tuple in user-defined specializations.</span></span> <span data-ttu-id="9937c-176">Nelle versioni precedenti, una dichiarazione di specializzazione controllata o controllata ha specificato un solo argomento di simbolo, a partire da 0,3 è consigliabile fornire tale tupla di simboli per tutte le specializzazioni e `...` indicare che il compilatore deve eseguire la migrazione dei simboli dalla dichiarazione chiamabile, se necessario.</span><span class="sxs-lookup"><span data-stu-id="9937c-176">While in previous releases a controlled or controlled-adjoint specialization declaration specified a single symbol argument, starting in 0.3 it is encouraged to provide such a symbol tuple for all specialization with `...` indicating that the compiler should migrate the symbols from the callable declaration if needed.</span></span> 

## <a name="semantic-changes"></a><span data-ttu-id="9937c-177">Modifiche semantiche</span><span class="sxs-lookup"><span data-stu-id="9937c-177">Semantic Changes</span></span> 

<span data-ttu-id="9937c-178">Il problema più significativo per la versione 0,3 è il modo in cui i tipi definiti dall'utente sono integrati nel sistema di tipi.</span><span class="sxs-lookup"><span data-stu-id="9937c-178">The most impactful breaking for the 0.3 release is how user-defined types are integrated into the type system.</span></span> <span data-ttu-id="9937c-179">Nelle versioni precedenti i tipi definiti dall'utente erano considerati un sottotipo del tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="9937c-179">In prior releases user defined types were considered to be a subtype of their underlying type.</span></span> <span data-ttu-id="9937c-180">Con questa versione e in futuro non è più così.</span><span class="sxs-lookup"><span data-stu-id="9937c-180">With this release and going forward this is no longer the case.</span></span> <span data-ttu-id="9937c-181">I tipi definiti dall'utente sono ora considerati di tipo distinto e non esiste alcun cast automatico tra un tipo definito dall'utente e il tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="9937c-181">User defined types are now considered to be their own distinct type, and no automatic cast between a user defined type and its underlying type exists.</span></span> <span data-ttu-id="9937c-182">Tutti i cast devono essere resi espliciti tramite un operatore "Unwrap" `!` ed è necessario un cast in particolare per accedere al contenuto di un oggetto di tipo definito dall'utente.</span><span class="sxs-lookup"><span data-stu-id="9937c-182">All casts need to be made explicit via an "unwrap" operator `!`, and a cast is needed in particular to access the content of a object of user defined type.</span></span>  

<span data-ttu-id="9937c-183">Le modifiche al sistema di tipi includono inoltre il comportamento di varianza delle matrici e il trattamento di oggetti con parametri di tipo.</span><span class="sxs-lookup"><span data-stu-id="9937c-183">The modifications to the type system also include the variance behavior of arrays, and the treatment of type parameterized objects.</span></span> <span data-ttu-id="9937c-184">A partire da 0,3, le matrici modificabili e non modificabili sono invariabili.</span><span class="sxs-lookup"><span data-stu-id="9937c-184">Starting in 0.3, both mutable and immutable arrays are invariant.</span></span> <span data-ttu-id="9937c-185">Inoltre, gli argomenti passati a un oggetto chiamabile non possono essere con parametri di tipo.</span><span class="sxs-lookup"><span data-stu-id="9937c-185">Additionally, arguments passed to a callable cannot be type parameterized.</span></span> <span data-ttu-id="9937c-186">In questi casi, gli argomenti di tipo devono essere passati insieme a identificatore.</span><span class="sxs-lookup"><span data-stu-id="9937c-186">In these cases, type arguments must be passed along with the identifer.</span></span>

<span data-ttu-id="9937c-187">Le versioni precedenti del compilatore Q # consentivano di fornire un valore di funzione dove era previsto un valore di operazione, purché il valore della funzione avesse i tipi di input e output corretti.</span><span class="sxs-lookup"><span data-stu-id="9937c-187">Previous releases of the Q# compiler allowed a function value to be provided where an operation value was expected, as long as the function value had the correct input and output types.</span></span> <span data-ttu-id="9937c-188">Si tratta di un comportamento imprevisto non specificato nella specifica del linguaggio Q #.</span><span class="sxs-lookup"><span data-stu-id="9937c-188">This was unintended behavior that is not specified in the Q# language specification.</span></span>
<span data-ttu-id="9937c-189">Nel compilatore 0,3 è stato rimosso questo comportamento in modo che i valori di funzione non siano più considerati valori dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="9937c-189">In the 0.3 compiler, we have removed this behavior so that function values are no longer considered operation values.</span></span>
<span data-ttu-id="9937c-190">Per ridurre al minimo l'alterazione del codice esistente che si basava su questo bug, è stata aggiunta la funzione tooperation nello spazio dei nomi Microsoft. Quantum. Canon che converte in modo esplicito una funzione in un'operazione con gli stessi tipi di input e di output.</span><span class="sxs-lookup"><span data-stu-id="9937c-190">To minimize the disruption to existing code that relied on this bug, we have added the ToOperation function in the Microsoft.Quantum.Canon namespace that will explicitly convert a function into an operation with the same input and output types.</span></span>

<span data-ttu-id="9937c-191">Nell'esempio seguente viene illustrato come utilizzare la `ToOperation` funzione per modificare una funzione `Square` in un'operazione `op` :</span><span class="sxs-lookup"><span data-stu-id="9937c-191">The following example illustrates how to use the `ToOperation` function to change a function `Square` to an operation `op`:</span></span> 
```qsharp
namespace Microsoft.Quantum.Tests {
    open Microsoft.Quantum.Primitive;
    open Microsoft.Quantum.Canon;

    function Square(x : Int) : Int {
        return x * x;
    }

    operation ApplyOp<'T, 'U>(op : ('T => 'U), input : 'T) : 'U {
        return op(input);
    }

    operation ToOperationTest() : Unit {
        let op = ToOperation(Square);
        AssertIntEqual(ApplyOp(op, 3), 9, "ToOperation failed with Square.");
    }
}
```

## <a name="requirements"></a><span data-ttu-id="9937c-192">Requisiti</span><span class="sxs-lookup"><span data-stu-id="9937c-192">Requirements</span></span> 

<span data-ttu-id="9937c-193">La versione è supportata in Visual Studio 2017 versione 15,8 o successiva per Windows 10 e in Visual Studio Code versione 1.27.2 o successiva per Windows 10, macOS e Linux.</span><span class="sxs-lookup"><span data-stu-id="9937c-193">The release is supported on Visual Studio 2017 version 15.8 or later for Windows 10, and on Visual Studio Code version 1.27.2 or later for Windows 10, macOS, and Linux.</span></span>

<span data-ttu-id="9937c-194">Quantum Development Kit usa il .NET Core SDK (2,0 o versione successiva).</span><span class="sxs-lookup"><span data-stu-id="9937c-194">The Quantum Development Kit uses the .NET Core SDK (2.0 or later).</span></span>

## <a name="installation"></a><span data-ttu-id="9937c-195">Installazione</span><span class="sxs-lookup"><span data-stu-id="9937c-195">Installation</span></span>  

<span data-ttu-id="9937c-196">Seguire le istruzioni di installazione [qui](../install-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="9937c-196">Follow the installation instructions [here](../install-guide/index.md).</span></span>

<span data-ttu-id="9937c-197">È possibile che vengano visualizzati avvisi ("conflitti trovati tra versioni diverse di" System. Reflection. Metadata "che non è stato possibile risolvere") se la versione corrente di .NET Core SDK non è aggiornata.</span><span class="sxs-lookup"><span data-stu-id="9937c-197">You may see warnings ("Found conflicts between different versions of "System.Reflection.Metadata" that could not be resolved.") if your current version of .NET Core SDK is not up to date.</span></span>  <span data-ttu-id="9937c-198">Tuttavia, se si usa .NET Core SDK (2,0 o versione successiva), questi avvisi possono essere ignorati.</span><span class="sxs-lookup"><span data-stu-id="9937c-198">However, if you are using .NET Core SDK (2.0 or later), these warnings may be ignored.</span></span>


- <span data-ttu-id="9937c-199">La versione è fornita insieme a diversi esempi che illustrano come usare le funzionalità esistenti del kit di sviluppo Quantum e le nuove funzionalità disponibili in questa versione.</span><span class="sxs-lookup"><span data-stu-id="9937c-199">The release is provided along with a number of different samples showing how to use both existing features of the Quantum Development Kit, and the new features available with this release.</span></span> <span data-ttu-id="9937c-200">È possibile trovare questi esempi in GitHub nel repository [Microsoft/Quantum](https://github.com/Microsoft/Quantum) .</span><span class="sxs-lookup"><span data-stu-id="9937c-200">These samples can be can be found on GitHub at the [Microsoft/Quantum](https://github.com/Microsoft/Quantum) repository.</span></span>


## <a name="migrating-existing-projects-to-q-03"></a><a name="Migration"></a><span data-ttu-id="9937c-201">Migrazione di progetti esistenti a Q # 0,3</span><span class="sxs-lookup"><span data-stu-id="9937c-201">Migrating Existing Projects to Q# 0.3</span></span> 

<span data-ttu-id="9937c-202">Se sono presenti progetti Q # esistenti dalla versione 0,2 del quantum Development Kit, di seguito sono riportati i passaggi per eseguire la migrazione di tali progetti alla versione più recente.</span><span class="sxs-lookup"><span data-stu-id="9937c-202">If you have existing Q# projects from version 0.2 of the Quantum Development Kit, the following are the steps to migrate those projects to the newest version.</span></span> <span data-ttu-id="9937c-203">Viene anche fornito uno [script di migrazione](#MigrationScript) per semplificare il processo.</span><span class="sxs-lookup"><span data-stu-id="9937c-203">We also provide a [migration script](#MigrationScript) to help you with the process.</span></span>

> [!NOTE]
> <span data-ttu-id="9937c-204">I progetti devono essere aggiornati nell'ordine indicato.</span><span class="sxs-lookup"><span data-stu-id="9937c-204">Projects need to be upgraded in order.</span></span> <span data-ttu-id="9937c-205">Se si dispone di una soluzione con più progetti, aggiornare ogni progetto nell'ordine in cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="9937c-205">If you have a solution with multiple projects update each project in the order they are referenced.</span></span>


1. <span data-ttu-id="9937c-206">Da una riga di comando eseguire `dotnet clean` per rimuovere tutti i file binari e i file intermedi esistenti.</span><span class="sxs-lookup"><span data-stu-id="9937c-206">From a command line, Run `dotnet clean` to remove all existing binaries and intermediate files.</span></span>
2. <span data-ttu-id="9937c-207">In un editor di testo modificare il file con estensione csproj per modificare la versione di tutti gli "Microsoft. Quantum" nella `PackageReference` versione 0.3.1811.2802-Preview, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="9937c-207">In a text editor, edit the .csproj file to change the version of all the "Microsoft.Quantum" `PackageReference` to version 0.3.1811.2802-preview, for example:</span></span>
```xml
    <PackageReference Include="Microsoft.Quantum.Canon" Version="0.3.1811.2802" />
    <PackageReference Include="Microsoft.Quantum.Development.Kit" Version="0.3.1811.2802" />
```
4. <span data-ttu-id="9937c-208">Dalla riga di comando, usare lo strumento di formattazione integrato nel compilatore della riga di comando per risolvere tutte le modifiche della sintassi eseguendo questo comando:`dotnet msbuild /t:qsharpformat`</span><span class="sxs-lookup"><span data-stu-id="9937c-208">From the command line, use the formatting tool integrated into the command line compiler to address all syntax changes by running this command: `dotnet msbuild /t:qsharpformat`</span></span>  
    - <span data-ttu-id="9937c-209">Verrà eseguita la migrazione dei file sul posto.</span><span class="sxs-lookup"><span data-stu-id="9937c-209">Your files will be migrated in-place.</span></span> <span data-ttu-id="9937c-210">Verrà copiato un backup di tutti i file originali`obj\qsharp\.backup`</span><span class="sxs-lookup"><span data-stu-id="9937c-210">A backup of all the original files will be copied to `obj\qsharp\.backup`</span></span>
    - <span data-ttu-id="9937c-211">Lo strumento di formattazione compilerà il progetto ignorando tutti gli errori di compilazione e genererà il codice Q # formattato in base alla compilazione della compilazione.</span><span class="sxs-lookup"><span data-stu-id="9937c-211">The formatting tool will compile the project ignoring all compilation errors and generate formatted Q# code based on the build compilation.</span></span> 
       <span data-ttu-id="9937c-212">Eventuali simboli non riconosciuti, ad esempio un nome di variabile non definito, verranno sostituiti da un testo segnaposto che deve essere sostituito manualmente dopo la formattazione.</span><span class="sxs-lookup"><span data-stu-id="9937c-212">Any unrecognized symbol (e.g. an undefined variable name) will be replaced by a placeholder text that needs to be replaced manually after formatting.</span></span> <span data-ttu-id="9937c-213">In questo caso, la formattazione ha esito positivo durante la generazione di un avviso per il file interessato.</span><span class="sxs-lookup"><span data-stu-id="9937c-213">In this case, the formatting succeeds while generating a warning for the affected file.</span></span>     
    - <span data-ttu-id="9937c-214">La formattazione e in particolare gli spazi vuoti nel file verranno modificati nel codice generato.</span><span class="sxs-lookup"><span data-stu-id="9937c-214">The formatting and in particular any white space in the file will be changed in the emitted code.</span></span> <span data-ttu-id="9937c-215">I commenti verranno conservati.</span><span class="sxs-lookup"><span data-stu-id="9937c-215">Comments will be preserved.</span></span>   
5. <span data-ttu-id="9937c-216">Dopo aver eseguito questa operazione, potrebbe essere necessario risolvere manualmente le modifiche semantiche nei casi in cui l'interpretazione semantica del codice è cambiata.</span><span class="sxs-lookup"><span data-stu-id="9937c-216">After running this, you might still need to manually address semantic changes in cases where the semantic interpretation of the code has changed.</span></span> <span data-ttu-id="9937c-217">Tutti questi errori verranno segnalati da IntelliSense in Visual Studio o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="9937c-217">All these errors will be reported by IntelliSense in Visual Studio or Visual Studio Code.</span></span>
    - <span data-ttu-id="9937c-218">Aprire la cartella radice del progetto o la soluzione contenitore in Visual Studio 2017 o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="9937c-218">Open the root folder of the project or the containing solution in Visual Studio 2017 or Visual Studio Code.</span></span>
    - <span data-ttu-id="9937c-219">Dopo aver aperto un file con estensione qs nell'editor, si dovrebbe vedere l'output dell'estensione del linguaggio Q# nella finestra di output.</span><span class="sxs-lookup"><span data-stu-id="9937c-219">After opening a .qs file in the editor, you should see the output of the Q# language extension in the output window.</span></span>
    - <span data-ttu-id="9937c-220">Una volta caricato correttamente il progetto (come indicato nella finestra di output), aprire ogni file e risolvere manualmente tutti i problemi rimanenti.</span><span class="sxs-lookup"><span data-stu-id="9937c-220">After the project has loaded successfully (indicated in the output window) open each file and manually to address all remaining issues.</span></span>


> [!NOTE]
> * <span data-ttu-id="9937c-221">Per la versione 0,3, il server di linguaggio incluso in Quantum Development Kit non supporta più aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="9937c-221">For the 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
> * <span data-ttu-id="9937c-222">Per gestire un progetto in Visual Studio Code, aprire la cartella radice contenente il progetto stesso e tutti i progetti a cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="9937c-222">In order to work with a project in Visual Studio Code, open the root folder containing the project itself and all referenced projects.</span></span>   
> * <span data-ttu-id="9937c-223">Per gestire una soluzione in Visual Studio, è necessario che tutti i progetti contenuti nella soluzione si trovino nella stessa cartella della soluzione o in una delle relative sottocartelle.</span><span class="sxs-lookup"><span data-stu-id="9937c-223">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>  
> * <span data-ttu-id="9937c-224">I riferimenti tra i progetti migrati a 0,3 e versioni successive e i progetti che usano versioni precedenti dei pacchetti **non** sono supportati.</span><span class="sxs-lookup"><span data-stu-id="9937c-224">References between projects migrated to 0.3 and higher and projects using older package versions are **not** supported.</span></span>




## <a name="migration-script"></a><a name="MigrationScript"></a><span data-ttu-id="9937c-225">Script di migrazione</span><span class="sxs-lookup"><span data-stu-id="9937c-225">Migration script</span></span> 

<span data-ttu-id="9937c-226">Per semplificare la migrazione del progetto, viene fornito uno script di PowerShell che può essere scaricato [qui](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span><span class="sxs-lookup"><span data-stu-id="9937c-226">In order to facilitate project migration, a PowerShell script is provided that can be downloaded [here](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span></span>
<span data-ttu-id="9937c-227">Questo script consente di migrare i progetti dalla versione 0,2 del quantum Development Kit per usare la versione 0,3.</span><span class="sxs-lookup"><span data-stu-id="9937c-227">This script helps migrate projects from version 0.2 of the Quantum Development Kit to use version 0.3.</span></span>

> [!NOTE]
> <span data-ttu-id="9937c-228">Lo script di migrazione richiede l'esecuzione di Windows PowerShell o PowerShell core.</span><span class="sxs-lookup"><span data-stu-id="9937c-228">The migration script requires Windows PowerShell or PowerShell Core to run.</span></span>
> <span data-ttu-id="9937c-229">Windows PowerShell è preinstallato con Windows 10.</span><span class="sxs-lookup"><span data-stu-id="9937c-229">Windows PowerShell comes pre-installed with Windows 10.</span></span>
> <span data-ttu-id="9937c-230">Scaricare PowerShell core per Windows, macOS o Linux all'indirizzo https://github.com/PowerShell/PowerShell .</span><span class="sxs-lookup"><span data-stu-id="9937c-230">Download PowerShell Core for Windows, macOS, or Linux at https://github.com/PowerShell/PowerShell.</span></span>

<span data-ttu-id="9937c-231">Lo script esegue i quattro passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="9937c-231">The script executes the following four steps:</span></span>

- <span data-ttu-id="9937c-232">Il progetto viene compilato con la versione precedente di Quantum Development Kit per garantire che la migrazione abbia probabilmente esito positivo.</span><span class="sxs-lookup"><span data-stu-id="9937c-232">The project is built with the previous version of the Quantum Development Kit to ensure that migration is likely to succeed.</span></span> <span data-ttu-id="9937c-233">Questo passaggio può essere ignorato utilizzando il `-Force` parametro per lo script.</span><span class="sxs-lookup"><span data-stu-id="9937c-233">This step can be skipped by using the `-Force` parameter to the script.</span></span>
- <span data-ttu-id="9937c-234">Sono installati nuovi modelli di progetto.</span><span class="sxs-lookup"><span data-stu-id="9937c-234">New project templates are installed.</span></span>
- <span data-ttu-id="9937c-235">Il progetto viene aggiornato per usare la versione corrente di Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="9937c-235">The project is updated to use the current version of the Quantum Development Kit.</span></span>
- <span data-ttu-id="9937c-236">Lo strumento di formattazione fornito con la versione 0,3 di Quantum Development Kit viene applicato per risolvere automaticamente la maggior parte delle modifiche di rilievo documentate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="9937c-236">The formatting tool provided with version 0.3 of the Quantum Development Kit is applied to automatically address most of the breaking changes documented above.</span></span>

<span data-ttu-id="9937c-237">Al termine di questi quattro passaggi, potrebbero verificarsi alcuni problemi di migrazione rimanenti che devono essere gestiti manualmente.</span><span class="sxs-lookup"><span data-stu-id="9937c-237">After these four steps complete, there may be some remaining migration issues which must be handled manually.</span></span>
<span data-ttu-id="9937c-238">L'uso della versione più recente di Quantum Development Kit Extensions per Visual Studio 2017 e Visual Studio Code può aiutarti a trovare facilmente questi problemi.</span><span class="sxs-lookup"><span data-stu-id="9937c-238">Using the latest version of the Quantum Development Kit extensions for Visual Studio 2017 and Visual Studio Code can help find these issues easily.</span></span>

<span data-ttu-id="9937c-239">La documentazione per lo script può essere ottenuta eseguendo uno dei comandi seguenti nella cartella in cui si trova lo script:</span><span class="sxs-lookup"><span data-stu-id="9937c-239">The documentation for the script can be obtained by running one of the following commands in the folder where the script is located:</span></span>

```powershell
Get-Help ./qdk-migrate.ps1
Get-Help -Online ./qdk-migrate.ps1
```

> [!NOTE]
> <span data-ttu-id="9937c-240">Per impostazione predefinita, Windows impedisce l'esecuzione di qualsiasi script come misura di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="9937c-240">By default, Windows prevents the execution of any scripts as a security measure.</span></span>
> <span data-ttu-id="9937c-241">Per consentire `qdk-migrate.ps1` l'esecuzione di script in Windows, potrebbe essere necessario modificare i criteri di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9937c-241">To allow scripts such as `qdk-migrate.ps1` to run on Windows, you may need to change the execution policy.</span></span>
> <span data-ttu-id="9937c-242">A tale scopo, eseguire il `Set-ExecutionPolicy` comando:</span><span class="sxs-lookup"><span data-stu-id="9937c-242">To do so, run the `Set-ExecutionPolicy` command:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope Process
> ```
> <span data-ttu-id="9937c-243">Quando si esce da PowerShell, i criteri di esecuzione verranno ripristinati.</span><span class="sxs-lookup"><span data-stu-id="9937c-243">The execution policy will then be reverted when you exit PowerShell.</span></span>
> <span data-ttu-id="9937c-244">Se si desidera salvare i criteri di esecuzione, utilizzare un valore diverso per `-Scope` :</span><span class="sxs-lookup"><span data-stu-id="9937c-244">If you would like to save the execution policy, use a different value for `-Scope`:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

