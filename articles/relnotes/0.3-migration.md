---
title: Guida alla revisione della lingua e alla migrazione di QDK 0,3
author: beheim
uid: microsoft.quantum.relnotes.migration-0-3
ms.author: bettina.heim@microsoft.com
ms.date: 10/29/2018
ms.topic: article
ms.openlocfilehash: 5131c1c9159c0e6d6ae2daa051bb95f69785f056
ms.sourcegitcommit: 8becfb03eb60ba205c670a634ff4daa8071bcd06
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 10/29/2019
ms.locfileid: "73184951"
---
# <a name="introduction"></a><span data-ttu-id="d07bb-102">Introduzione</span><span class="sxs-lookup"><span data-stu-id="d07bb-102">Introduction</span></span> #

<span data-ttu-id="d07bb-103">Siamo lieti di introdurre l'aggiornamento più recente per Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="d07bb-103">We are excited to introduce the newest update to the Quantum Development Kit.</span></span>  <span data-ttu-id="d07bb-104">Questa pagina offre una panoramica delle nuove funzionalità del linguaggio Q # e illustra come [eseguire la migrazione](#Migration) di programmi q # esistenti alla nuova sintassi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-104">This page gives an overview of the new Q# language features and describes how to [migrate](#Migration) existing Q# programs to the new syntax.</span></span>  <span data-ttu-id="d07bb-105">Per la descrizione completa del linguaggio Q #, vedere [qui](xref:microsoft.quantum.language.intro)la documentazione completa.</span><span class="sxs-lookup"><span data-stu-id="d07bb-105">See our complete documentation for the full description of the Q# language [here](xref:microsoft.quantum.language.intro).</span></span>


# <a name="whats-new"></a><span data-ttu-id="d07bb-106">Novità</span><span class="sxs-lookup"><span data-stu-id="d07bb-106">What's New</span></span> #

<span data-ttu-id="d07bb-107">L'aggiornamento 0,3 include una gamma di nuove funzionalità di linguaggio e di editor.</span><span class="sxs-lookup"><span data-stu-id="d07bb-107">The 0.3 update comes with a range of new language and editor features.</span></span>

## <a name="overview-of-features"></a><span data-ttu-id="d07bb-108">Panoramica delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="d07bb-108">Overview of Features</span></span>

- <span data-ttu-id="d07bb-109">Integrazione avanzata degli strumenti di sviluppo per Visual Studio e Visual Studio Code, tra cui:</span><span class="sxs-lookup"><span data-stu-id="d07bb-109">Enhanced development tool integration for Visual Studio and Visual Studio Code, including:</span></span>
    - <span data-ttu-id="d07bb-110">Compilazione e feedback in tempo reale sulla digitazione (*noto* anche come</span><span class="sxs-lookup"><span data-stu-id="d07bb-110">Live compilation and feedback on typing (*a.k.a.*</span></span> <span data-ttu-id="d07bb-111">sottolineatura ondulata).</span><span class="sxs-lookup"><span data-stu-id="d07bb-111">squiggly underlining).</span></span>
    - <span data-ttu-id="d07bb-112">Informazioni sul passaggio del mouse, inclusi riepiloghi della documentazione e firme di tipi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-112">Hover information including documentation summaries and type signatures.</span></span>
    - <span data-ttu-id="d07bb-113">Supporto per Vai a definizione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-113">Support for go to definition.</span></span>
    - <span data-ttu-id="d07bb-114">Navigazione semplificata per le dichiarazioni di spazio dei nomi, operazione, funzione e tipo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-114">Easy navigation to namespace, operation, function, and type declarations.</span></span>
    - <span data-ttu-id="d07bb-115">Messaggi di diagnostica migliorati.</span><span class="sxs-lookup"><span data-stu-id="d07bb-115">Improved diagnostic messages.</span></span>
- <span data-ttu-id="d07bb-116">Miglioramenti del linguaggio</span><span class="sxs-lookup"><span data-stu-id="d07bb-116">Language improvements</span></span>
    - <span data-ttu-id="d07bb-117">Singole inizializzazioni di qubit e tuple all'interno di using e borrowing</span><span class="sxs-lookup"><span data-stu-id="d07bb-117">Single qubit and tuple initializations within using and borrowing</span></span>
    - <span data-ttu-id="d07bb-118">Decostruzione di Tuple per tutte le assegnazioni</span><span class="sxs-lookup"><span data-stu-id="d07bb-118">Tuple deconstruction on all assignments</span></span>
    - <span data-ttu-id="d07bb-119">Iterazione su matrici</span><span class="sxs-lookup"><span data-stu-id="d07bb-119">Iteration over arrays</span></span>
    - <span data-ttu-id="d07bb-120">Espressioni condizionali</span><span class="sxs-lookup"><span data-stu-id="d07bb-120">Conditional expressions</span></span>
    - <span data-ttu-id="d07bb-121">Abbreviazione di specializzazione predefinita per le operazioni</span><span class="sxs-lookup"><span data-stu-id="d07bb-121">Default-specialization abbreviation for operations</span></span>
    - <span data-ttu-id="d07bb-122">Costruttori di tipi generati automaticamente</span><span class="sxs-lookup"><span data-stu-id="d07bb-122">Auto-generated type constructors</span></span>
    - <span data-ttu-id="d07bb-123">Modificatori di espressione</span><span class="sxs-lookup"><span data-stu-id="d07bb-123">Expression modifiers</span></span>


## <a name="editor-features"></a><span data-ttu-id="d07bb-124">Funzionalità dell'editor</span><span class="sxs-lookup"><span data-stu-id="d07bb-124">Editor Features</span></span>

<span data-ttu-id="d07bb-125">Quantum Development Kit include ora un server di linguaggio per Q #, nonché le integrazioni client per Visual Studio e Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d07bb-125">The Quantum Development Kit now includes a language server for Q#, as well as the client integrations for Visual Studio and Visual Studio Code.</span></span>
<span data-ttu-id="d07bb-126">Questo consente un nuovo set di funzionalità IntelliSense insieme a commenti e suggerimenti Live sulla digitazione sotto forma di sottolineature ondulate di errori e avvisi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-126">This enables a new set of IntelliSense features along with live feedback on typing in form of squiggly underlinings of errors and warnings.</span></span>
<span data-ttu-id="d07bb-127">In particolare, vai a definizione è ora supportato e vengono visualizzate le informazioni relative al passaggio del mouse contenenti informazioni sul tipo, oltre alle informazioni contenute nella documentazione dei commenti.</span><span class="sxs-lookup"><span data-stu-id="d07bb-127">In particular, go to definition is now supported and hover information is displayed containing type information as well as information from documenting comments.</span></span> <span data-ttu-id="d07bb-128">Inoltre, le informazioni sui simboli relativi a spazi dei nomi, operazioni, funzioni e tipi definiti sono disponibili e consentono di passare rapidamente alle dichiarazioni.</span><span class="sxs-lookup"><span data-stu-id="d07bb-128">Additionally, symbol information about defined namespaces, operations, functions, and types is available and allows to quickly navigate to declarations.</span></span>    
<span data-ttu-id="d07bb-129">Questo aggiornamento consente di migliorare notevolmente i messaggi di diagnostica in generale, con facilità di spostamento e intervalli precisi per la diagnostica e dettagli aggiuntivi nelle informazioni visualizzate al passaggio del mouse.</span><span class="sxs-lookup"><span data-stu-id="d07bb-129">This update greatly improves diagnostic messages in general, with easy navigation to and precise ranges for diagnostics and additional details in the displayed hover information.</span></span> 

<span data-ttu-id="d07bb-130">Per questa versione 0,3, il server di linguaggio incluso in Quantum Development Kit non supporta più aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="d07bb-130">For this 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
<span data-ttu-id="d07bb-131">Per utilizzare un progetto in VS Code, aprire la cartella radice contenente il progetto stesso e tutti i progetti a cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="d07bb-131">In order to work with a project in VS Code, open the root folder containing the project itself and all referenced projects.</span></span>
<span data-ttu-id="d07bb-132">Per lavorare con una soluzione in Visual Studio, tutti i progetti contenuti nella soluzione devono trovarsi nella stessa cartella della soluzione o in una delle relative sottocartelle.</span><span class="sxs-lookup"><span data-stu-id="d07bb-132">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>

## <a name="language-features"></a><span data-ttu-id="d07bb-133">Funzionalità del linguaggio</span><span class="sxs-lookup"><span data-stu-id="d07bb-133">Language Features</span></span>

<span data-ttu-id="d07bb-134">In termini di funzionalità del linguaggio, questo aggiornamento unifica il trattamento di una gamma di modelli di linguaggio.</span><span class="sxs-lookup"><span data-stu-id="d07bb-134">In terms of language features, this update unifies the treatment of a range of language patterns.</span></span>
<span data-ttu-id="d07bb-135">I costruttori di tipo, ad esempio, vengono generati per ogni tipo definito dall'utente e possono essere applicati parzialmente in modo analogo a qualsiasi altra funzione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-135">Type constructors, as an example, are generated for each user defined type and can be partially applied much like any other function.</span></span>
<span data-ttu-id="d07bb-136">Un altro esempio è la decostruzione di tuple, che ora è completamente supportata all'interno di tutte le assegnazioni.</span><span class="sxs-lookup"><span data-stu-id="d07bb-136">Another example is tuple deconstruction, which is now fully supported within all assignments.</span></span> <span data-ttu-id="d07bb-137">Sono incluse non solo le istruzioni set-, mutable-e set-, ma anche la variabile di iterazione nei cicli for, nonché l'uso di-e le allocazioni in prestito.</span><span class="sxs-lookup"><span data-stu-id="d07bb-137">This includes not only let-, mutable-, and set-statements, but also the iteration variable in for-loops as well as using- and borrowing-allocations.</span></span> <span data-ttu-id="d07bb-138">Inoltre, le decostruzioni parziali sono appena supportate con l'aggiornamento 0,3; i caratteri di sottolineatura nelle decostruzioni indicano parti del valore che devono essere ignorate.</span><span class="sxs-lookup"><span data-stu-id="d07bb-138">Additionally, partial deconstructions are newly supported with the 0.3 update; underscores in deconstructions indicate parts of the value that are to be ignored.</span></span> 

<span data-ttu-id="d07bb-139">Il codice seguente illustra alcune delle nuove funzionalità:</span><span class="sxs-lookup"><span data-stu-id="d07bb-139">The following code illustrates some of the new features:</span></span>
```qsharp
    let tuples = [(1, 0), (0, 1)];
    mutable res = (0, 0, 0);

    // For-loops can iterate over arrays, and can destructure tuples.
    for ((i1, i2) in tuples) {

        // Mutable assignments can now destructure and ignore parts of tuples,
        // using the same syntax as let-bindings.
        mutable (r1, r2, _) = res;
        set (r1, r2) = (r1 ||| i1, r2 &&& i2);

        let (_, _, s) = res;
        // The new conditional operator can be used inside expressions, avoiding
        // the need for extraneous if-statements.
        set res = (r1, r2, r1 == r2 ? s | s + 1);
    }
```
<span data-ttu-id="d07bb-140">L'ultima istruzione set usa un nuovo operatore ternario introdotto con l'aggiornamento 0,3 per supportare le espressioni condizionali.</span><span class="sxs-lookup"><span data-stu-id="d07bb-140">The last set statement uses a new ternary operator that is introduced with the 0.3 update to support conditional expressions.</span></span>
<span data-ttu-id="d07bb-141">Un'espressione condizionale è un'espressione nel formato `condition ? caseTrue | caseFalse`.</span><span class="sxs-lookup"><span data-stu-id="d07bb-141">A conditional expression is an expression of the form `condition ? caseTrue | caseFalse`.</span></span>
<span data-ttu-id="d07bb-142">Come si può notare dall'esempio precedente, è ora supportata anche l'iterazione sulle matrici.</span><span class="sxs-lookup"><span data-stu-id="d07bb-142">As can be seen from the example above, iteration over arrays is now also supported.</span></span>

<span data-ttu-id="d07bb-143">Le allocazioni all'interno di `using` e `borrowing` sono appena possibili per singole qubits, matrici qubit e Tuple nidificate:</span><span class="sxs-lookup"><span data-stu-id="d07bb-143">Allocations within `using` and `borrowing` are newly possible for single qubits, qubit arrays, and nested tuples thereof:</span></span>
```qsharp
    using (q = Qubit()) {
        // q contains a single qubit
    }

    borrowing ((cs, q) = (Qubit[3], Qubit())) {
        // cs contains an array of three qubits, and q contains a single qubit
    }
```

<span data-ttu-id="d07bb-144">Vengono introdotte due nuove direttive del generatore di specializzazione `invert` e `distribute` oltre ai `auto` vengono introdotte per aumentare il controllo sul modo in cui vengono generate le specializzazioni di Function.</span><span class="sxs-lookup"><span data-stu-id="d07bb-144">Two new specialization generator directives `invert` and `distribute` in addition to `auto` are introduced to increase control over how functor specializations are generated.</span></span>
<span data-ttu-id="d07bb-145">Una dichiarazione esplicita della specializzazione `body` predefinita all'interno delle operazioni non è più obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="d07bb-145">An explicit declaration of the default `body` specialization within operations is no longer mandatory.</span></span>
<span data-ttu-id="d07bb-146">Analogamente alle funzioni, le istruzioni possono essere aggiunte direttamente alla dichiarazione dell'operazione se nessuna altra specializzazione viene dichiarata all'interno dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-146">Similar to functions, statements may be directly added to the operation declaration itself if no other specialization is declared within the operation.</span></span>
<span data-ttu-id="d07bb-147">Uno script di migrazione è incluso nella versione per facilitare la migrazione del codice esistente e sfruttare i vantaggi delle nuove funzionalità del linguaggio. vedere la [sezione relativa allo script di migrazione](#MigrationScript).</span><span class="sxs-lookup"><span data-stu-id="d07bb-147">A migration script is included in the release to help migrating existing code and taking advantage of new language features (see the [section on the migration script](#MigrationScript)).</span></span>

<span data-ttu-id="d07bb-148">Una modifica importante per il modo in cui vengono trattati i tipi definiti dall'utente viene fornita con l'aggiornamento 0,3.</span><span class="sxs-lookup"><span data-stu-id="d07bb-148">A major change in how user-defined types are treated comes with the 0.3 update.</span></span> <span data-ttu-id="d07bb-149">Mentre le versioni precedenti consideravano i tipi definiti dall'utente come sottotipi del relativo tipo sottostante, questo non è più il caso in futuro (vedere anche la [sezione relativa alle modifiche di rilievo](#BreakingChanges)).</span><span class="sxs-lookup"><span data-stu-id="d07bb-149">While prior releases treated user defined types as subtypes of their underlying type, this is no longer the case going forward (see also the [section on breaking changes](#BreakingChanges)).</span></span>  
<span data-ttu-id="d07bb-150">Come parte di questa modifica, vengono introdotti i modificatori di espressioni che possono essere applicati a determinate espressioni.</span><span class="sxs-lookup"><span data-stu-id="d07bb-150">As part of this change we introduce expression modifiers that can be applied to certain expressions.</span></span> <span data-ttu-id="d07bb-151">Le espressioni "atomiche" a cui è possibile applicare i modificatori sono gli identificatori, le espressioni di elementi della matrice e le tuple grado-1.</span><span class="sxs-lookup"><span data-stu-id="d07bb-151">The "atomic" expressions that modifiers can be applied to are identifiers, array item expressions, and arity-1 tuples.</span></span>
<span data-ttu-id="d07bb-152">I modificatori si associano più rigorosi rispetto a qualsiasi altro combinatore di espressioni e in particolare più rigoroso del combinatore delle espressioni di chiamata `(` `)`.</span><span class="sxs-lookup"><span data-stu-id="d07bb-152">Modifiers bind tighter than any other expression combinator, and in particular tighter than the call-expression combinator `(` `)`.</span></span> 
<span data-ttu-id="d07bb-153">`Adjoint`, `Controlled`e un nuovo operatore suffisso "Unwrap" `!` vengono trattati come modificatori di espressione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-153">`Adjoint`, `Controlled`, and a new "unwrap" postfix operator `!` are treated as expression modifiers.</span></span> <span data-ttu-id="d07bb-154">Il trattamento `Adjoint` e `Controlled` come modificatori di espressione Elimina la necessità di parentesi per diversi casi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-154">Treating `Adjoint` and `Controlled` as expression modifiers eliminates the need for parenthesis for a lot of cases.</span></span> <span data-ttu-id="d07bb-155">Le espressioni seguenti, ad esempio, sono valide in futuro per `Op`, un'operazione unitaria, `opArr` una matrice di operazioni unitarie e `arg` un argomento appropriato:</span><span class="sxs-lookup"><span data-stu-id="d07bb-155">The expressions below for example are valid going forward for `Op`, a unitary operation, `opArr` an array of unitary operations, and `arg` a suitable argument:</span></span> 
```qsharp
    Adjoint Op (arg);
    Controlled opArr[i] (arg);
```
<span data-ttu-id="d07bb-156">Lo script di migrazione eliminerà la maggior parte delle parentesi superflue e approfitterà di tutte le nuove funzionalità.</span><span class="sxs-lookup"><span data-stu-id="d07bb-156">The migration script will drop most of the unnecessary parenthesis and take full advantage of the new features.</span></span> <span data-ttu-id="d07bb-157">Tuttavia, tenere presente che lo script non interpreta il codice e non tiene conto della diversa interpretazione del `Controlled` functore in rari casi (pertinente solo in combinazione con applicazioni parziali).</span><span class="sxs-lookup"><span data-stu-id="d07bb-157">However, be advised that the script does not interpret the code, and will not account for the different interpretation of the `Controlled` functor in rare cases (only relevant in combination with partial applications).</span></span>

<span data-ttu-id="d07bb-158">Il nuovo modificatore `!` esegue il cast di un tipo definito dall'utente al relativo tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="d07bb-158">The new modifier `!` casts a user-defined type to its underlying type.</span></span> <span data-ttu-id="d07bb-159">Questo cast è stato considerato un cast nelle versioni precedenti ed è stato eseguito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-159">This cast has been considered an upcast in previous releases and was executed automatically.</span></span> <span data-ttu-id="d07bb-160">Con la nuova interpretazione dei tipi definiti dall'utente, questo non è più il caso ed è necessario rendere esplicito il cast.</span><span class="sxs-lookup"><span data-stu-id="d07bb-160">With the new interpretation of user defined types this is no longer the case and the cast needs to be made explicit.</span></span>    
<span data-ttu-id="d07bb-161">Nell'esempio seguente viene illustrato come utilizzare il nuovo modificatore:</span><span class="sxs-lookup"><span data-stu-id="d07bb-161">The following example illustrates how to use the new modifier:</span></span> 
```qsharp
    newtype Unitary = (Qubit => Unit: Adjoint, Controlled);

    operation Foo (unitaries : Unitary[], q : Qubit) : Unit {

        for (unitary in unitaries[1 .. Length(unitaries)-1]) {
            // Each element of unitaries is an instance of the user-defined
            // type Unitary, so unitary! unwraps each element to an operation
            // type that we can call.
            unitary! (q);
            // The unwrap operator can also be used as a part of functor
            // expressions and when indexing into arrays.
            Adjoint unitary! (q);
            Adjoint unitaries[0]! (q);
        }
    }
```
<span data-ttu-id="d07bb-162">Come si può notare dall'esempio, `!` associa più restrittivi dei modificatori di prefisso, ad esempio `Controlled` e `Adjoint`.</span><span class="sxs-lookup"><span data-stu-id="d07bb-162">As can be seen from the example, `!` binds tighter than prefix modifiers, like `Controlled` and `Adjoint`.</span></span>

#<a name="BreakingChanges"></a><span data-ttu-id="d07bb-163">Modifiche di rilievo</span><span class="sxs-lookup"><span data-stu-id="d07bb-163">Breaking Changes</span></span> #

<span data-ttu-id="d07bb-164">L'aggiornamento 0,3 include un nuovo compilatore e contiene alcune modifiche di rilievo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-164">The 0.3 update comes with a new compiler and contains a handful of breaking changes.</span></span>
<span data-ttu-id="d07bb-165">Per facilitare l'aggiornamento del codice esistente, il compilatore fornisce anche un'opzione di formattazione che compila codice valido o non valido ed emette codice Q # formattato in base alla compilazione compilata.</span><span class="sxs-lookup"><span data-stu-id="d07bb-165">To facilitate updating existing code, the compiler also provides a formatting option that compiles valid or invalid code and emits formatted Q# code based on the built compilation.</span></span>
<span data-ttu-id="d07bb-166">Tutte le modifiche alla sintassi verranno elaborate automaticamente dallo strumento fornito.</span><span class="sxs-lookup"><span data-stu-id="d07bb-166">All syntax changes will be processed automatically by the provided tool.</span></span> <span data-ttu-id="d07bb-167">Tuttavia, le modifiche apportate al modo in cui il codice valido viene interpretato (modifiche semantiche) potrebbe essere necessario eseguire manualmente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-167">However, changes in how valid code is interpreted (semantic changes) may need to be made manually.</span></span> 

<span data-ttu-id="d07bb-168">Oltre alle modifiche elencate di seguito, il criterio `__*__` dove \* è qualsiasi sequenza di caratteri diversi da spazi vuoti è riservata per uso interno e non può essere usata come nome di simbolo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-168">In addition to the changes listed below, the pattern `__*__` where \* is any sequence of non-whitespace characters is reserved for internal use and cannot be used as a symbol name.</span></span>  

## <a name="syntax-changes"></a><span data-ttu-id="d07bb-169">Modifiche della sintassi</span><span class="sxs-lookup"><span data-stu-id="d07bb-169">Syntax Changes</span></span> ##

- <span data-ttu-id="d07bb-170">A partire dalla versione 0,3, gli elementi di matrice non sono più separati da punti e virgola, ma sono invece separati da virgole.</span><span class="sxs-lookup"><span data-stu-id="d07bb-170">Starting with the version 0.3, array items are no longer separated by semicolons, but are separated by commas instead.</span></span>
- <span data-ttu-id="d07bb-171">Un punto e virgola d'altra parte è necessario dopo una direttiva di generazione automatica per le dichiarazioni di specializzazione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-171">A semicolon on the other hand is required after an auto-generation directive for specialization declarations.</span></span>
- <span data-ttu-id="d07bb-172">Le condizioni nelle clausole if-, elif-e until-devono essere incapsulate tra parentesi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-172">Conditions in if-, elif-, and until-clauses need to be encapsulated in parenthesis.</span></span> 

<span data-ttu-id="d07bb-173">Per tutte le altre modifiche della sintassi, il compilatore genererà semplicemente un avviso se viene utilizzata la sintassi precedente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-173">For all other syntax changes the compiler will simply generate a warning if the old syntax is used.</span></span>     
<span data-ttu-id="d07bb-174">Un esempio di tale modifica è la tupla dei simboli nelle specializzazioni definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-174">One example for such a change is the symbol tuple in user-defined specializations.</span></span> <span data-ttu-id="d07bb-175">Nelle versioni precedenti, una dichiarazione di specializzazione controllata o controllata ha specificato un solo argomento Symbol, a partire da 0,3 è consigliabile fornire tale tupla di simboli per tutte le specializzazioni con `...` indicante che il compilatore Se necessario, eseguire la migrazione dei simboli dalla dichiarazione chiamabile.</span><span class="sxs-lookup"><span data-stu-id="d07bb-175">While in previous releases a controlled or controlled-adjoint specialization declaration specified a single symbol argument, starting in 0.3 it is encouraged to provide such a symbol tuple for all specialization with `...` indicating that the compiler should migrate the symbols from the callable declaration if needed.</span></span> 

## <a name="semantic-changes"></a><span data-ttu-id="d07bb-176">Modifiche semantiche</span><span class="sxs-lookup"><span data-stu-id="d07bb-176">Semantic Changes</span></span> ##

<span data-ttu-id="d07bb-177">Il problema più significativo per la versione 0,3 è il modo in cui i tipi definiti dall'utente sono integrati nel sistema di tipi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-177">The most impactful breaking for the 0.3 release is how user-defined types are integrated into the type system.</span></span> <span data-ttu-id="d07bb-178">Nelle versioni precedenti i tipi definiti dall'utente erano considerati un sottotipo del tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="d07bb-178">In prior releases user defined types were considered to be a subtype of their underlying type.</span></span> <span data-ttu-id="d07bb-179">Con questa versione e in futuro non è più così.</span><span class="sxs-lookup"><span data-stu-id="d07bb-179">With this release and going forward this is no longer the case.</span></span> <span data-ttu-id="d07bb-180">I tipi definiti dall'utente sono ora considerati di tipo distinto e non esiste alcun cast automatico tra un tipo definito dall'utente e il tipo sottostante.</span><span class="sxs-lookup"><span data-stu-id="d07bb-180">User defined types are now considered to be their own distinct type, and no automatic cast between a user defined type and its underlying type exists.</span></span> <span data-ttu-id="d07bb-181">Tutti i cast devono essere resi espliciti tramite un operatore "Unwrap" `!`ed è necessario un cast in particolare per accedere al contenuto di un oggetto di tipo definito dall'utente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-181">All casts need to be made explicit via an "unwrap" operator `!`, and a cast is needed in particular to access the content of a object of user defined type.</span></span>  

<span data-ttu-id="d07bb-182">Le modifiche al sistema di tipi includono inoltre il comportamento di varianza delle matrici e il trattamento di oggetti con parametri di tipo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-182">The modifications to the type system also include the variance behavior of arrays, and the treatment of type parameterized objects.</span></span> <span data-ttu-id="d07bb-183">A partire da 0,3, le matrici modificabili e non modificabili sono invariabili.</span><span class="sxs-lookup"><span data-stu-id="d07bb-183">Starting in 0.3, both mutable and immutable arrays are invariant.</span></span> <span data-ttu-id="d07bb-184">Inoltre, gli argomenti passati a un oggetto chiamabile non possono essere con parametri di tipo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-184">Additionally, arguments passed to a callable cannot be type parameterized.</span></span> <span data-ttu-id="d07bb-185">In questi casi, gli argomenti di tipo devono essere passati insieme a identificatore.</span><span class="sxs-lookup"><span data-stu-id="d07bb-185">In these cases, type arguments must be passed along with the identifer.</span></span>

<span data-ttu-id="d07bb-186">Le versioni precedenti del compilatore Q # consentivano di fornire un valore di funzione dove era previsto un valore di operazione, purché il valore della funzione avesse i tipi di input e output corretti.</span><span class="sxs-lookup"><span data-stu-id="d07bb-186">Previous releases of the Q# compiler allowed a function value to be provided where an operation value was expected, as long as the function value had the correct input and output types.</span></span> <span data-ttu-id="d07bb-187">Si tratta di un comportamento imprevisto non specificato nella specifica del linguaggio Q #.</span><span class="sxs-lookup"><span data-stu-id="d07bb-187">This was unintended behavior that is not specified in the Q# language specification.</span></span>
<span data-ttu-id="d07bb-188">Nel compilatore 0,3 è stato rimosso questo comportamento in modo che i valori di funzione non siano più considerati valori dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-188">In the 0.3 compiler, we have removed this behavior so that function values are no longer considered operation values.</span></span>
<span data-ttu-id="d07bb-189">Per ridurre al minimo l'alterazione del codice esistente che si basava su questo bug, è stata aggiunta la funzione tooperation nello spazio dei nomi Microsoft. Quantum. Canon che converte in modo esplicito una funzione in un'operazione con gli stessi tipi di input e di output.</span><span class="sxs-lookup"><span data-stu-id="d07bb-189">To minimize the disruption to existing code that relied on this bug, we have added the ToOperation function in the Microsoft.Quantum.Canon namespace that will explicitly convert a function into an operation with the same input and output types.</span></span>

<span data-ttu-id="d07bb-190">Nell'esempio seguente viene illustrato come utilizzare la funzione `ToOperation` per modificare una funzione `Square` a un'operazione `op`:</span><span class="sxs-lookup"><span data-stu-id="d07bb-190">The following example illustrates how to use the `ToOperation` function to change a function `Square` to an operation `op`:</span></span> 
```qsharp
namespace Microsoft.Quantum.Tests {
    open Microsoft.Quantum.Primitive;
    open Microsoft.Quantum.Canon;

    function Square(x : Int) : Int {
        return x * x;
    }

    operation ApplyOp<'T, 'U>(op : ('T => 'U), input : 'T) : 'U {
        return op(input);
    }

    operation ToOperationTest() : Unit {
        let op = ToOperation(Square);
        AssertIntEqual(ApplyOp(op, 3), 9, "ToOperation failed with Square.");
    }
}
```

# <a name="requirements"></a><span data-ttu-id="d07bb-191">Requisiti</span><span class="sxs-lookup"><span data-stu-id="d07bb-191">Requirements</span></span> #

<span data-ttu-id="d07bb-192">La versione è supportata in Visual Studio 2017 versione 15,8 o successiva per Windows 10 e in Visual Studio Code versione 1.27.2 o successiva per Windows 10, macOS e Linux.</span><span class="sxs-lookup"><span data-stu-id="d07bb-192">The release is supported on Visual Studio 2017 version 15.8 or later for Windows 10, and on Visual Studio Code version 1.27.2 or later for Windows 10, macOS, and Linux.</span></span>

<span data-ttu-id="d07bb-193">Quantum Development Kit usa il .NET Core SDK (2,0 o versione successiva).</span><span class="sxs-lookup"><span data-stu-id="d07bb-193">The Quantum Development Kit uses the .NET Core SDK (2.0 or later).</span></span>

# <a name="installation"></a><span data-ttu-id="d07bb-194">Installazione</span><span class="sxs-lookup"><span data-stu-id="d07bb-194">Installation</span></span>  #

<span data-ttu-id="d07bb-195">Seguire le istruzioni di installazione [qui](../install-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="d07bb-195">Follow the installation instructions [here](../install-guide/index.md).</span></span>

<span data-ttu-id="d07bb-196">È possibile che vengano visualizzati avvisi ("conflitti trovati tra versioni diverse di" System. Reflection. Metadata "che non è stato possibile risolvere") se la versione corrente di .NET Core SDK non è aggiornata.</span><span class="sxs-lookup"><span data-stu-id="d07bb-196">You may see warnings ("Found conflicts between different versions of "System.Reflection.Metadata" that could not be resolved.") if your current version of .NET Core SDK is not up to date.</span></span>  <span data-ttu-id="d07bb-197">Tuttavia, se si usa .NET Core SDK (2,0 o versione successiva), questi avvisi possono essere ignorati.</span><span class="sxs-lookup"><span data-stu-id="d07bb-197">However, if you are using .NET Core SDK (2.0 or later), these warnings may be ignored.</span></span>


- <span data-ttu-id="d07bb-198">La versione è fornita insieme a diversi esempi che illustrano come usare le funzionalità esistenti del kit di sviluppo Quantum e le nuove funzionalità disponibili in questa versione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-198">The release is provided along with a number of different samples showing how to use both existing features of the Quantum Development Kit, and the new features available with this release.</span></span> <span data-ttu-id="d07bb-199">È possibile trovare questi esempi in GitHub nel repository [Microsoft/Quantum](https://github.com/Microsoft/Quantum) .</span><span class="sxs-lookup"><span data-stu-id="d07bb-199">These samples can be can be found on GitHub at the [Microsoft/Quantum](https://github.com/Microsoft/Quantum) repository.</span></span>


#<a name="Migration"></a><span data-ttu-id="d07bb-200">Migrazione di progetti esistenti a Q # 0,3</span><span class="sxs-lookup"><span data-stu-id="d07bb-200">Migrating Existing Projects to Q# 0.3</span></span> #

<span data-ttu-id="d07bb-201">Se sono presenti progetti Q # esistenti dalla versione 0,2 del quantum Development Kit, di seguito sono riportati i passaggi per eseguire la migrazione di tali progetti alla versione più recente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-201">If you have existing Q# projects from version 0.2 of the Quantum Development Kit, the following are the steps to migrate those projects to the newest version.</span></span> <span data-ttu-id="d07bb-202">Viene anche fornito uno [script di migrazione](#MigrationScript) per semplificare il processo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-202">We also provide a [migration script](#MigrationScript) to help you with the process.</span></span>

> [!NOTE]
> <span data-ttu-id="d07bb-203">È necessario aggiornare i progetti in ordine.</span><span class="sxs-lookup"><span data-stu-id="d07bb-203">Projects need to be upgraded in order.</span></span> <span data-ttu-id="d07bb-204">Se si dispone di una soluzione con più progetti, aggiornare ogni progetto nell'ordine in cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="d07bb-204">If you have a solution with multiple projects update each project in the order they are referenced.</span></span>


1. <span data-ttu-id="d07bb-205">Dalla riga di comando eseguire `dotnet clean` per rimuovere tutti i file binari e i file intermedi esistenti.</span><span class="sxs-lookup"><span data-stu-id="d07bb-205">From a command line, Run `dotnet clean` to remove all existing binaries and intermediate files.</span></span>
2. <span data-ttu-id="d07bb-206">In un editor di testo modificare il file con estensione csproj per modificare la versione di tutti i `PackageReference` "Microsoft. Quantum" nella versione 0.3.1811.2802-Preview, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="d07bb-206">In a text editor, edit the .csproj file to change the version of all the "Microsoft.Quantum" `PackageReference` to version 0.3.1811.2802-preview, for example:</span></span>
```xml
    <PackageReference Include="Microsoft.Quantum.Canon" Version="0.3.1811.2802" />
    <PackageReference Include="Microsoft.Quantum.Development.Kit" Version="0.3.1811.2802" />
```
4. <span data-ttu-id="d07bb-207">Dalla riga di comando, usare lo strumento di formattazione integrato nel compilatore della riga di comando per risolvere tutte le modifiche della sintassi eseguendo questo comando: `dotnet msbuild /t:qsharpformat`</span><span class="sxs-lookup"><span data-stu-id="d07bb-207">From the command line, use the formatting tool integrated into the command line compiler to address all syntax changes by running this command: `dotnet msbuild /t:qsharpformat`</span></span>  
    - <span data-ttu-id="d07bb-208">Verrà eseguita la migrazione dei file sul posto.</span><span class="sxs-lookup"><span data-stu-id="d07bb-208">Your files will be migrated in-place.</span></span> <span data-ttu-id="d07bb-209">Verrà copiato un backup di tutti i file originali `obj\qsharp\.backup`</span><span class="sxs-lookup"><span data-stu-id="d07bb-209">A backup of all the original files will be copied to `obj\qsharp\.backup`</span></span>
    - <span data-ttu-id="d07bb-210">Lo strumento di formattazione compilerà il progetto ignorando tutti gli errori di compilazione e genererà il codice Q # formattato in base alla compilazione della compilazione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-210">The formatting tool will compile the project ignoring all compilation errors and generate formatted Q# code based on the build compilation.</span></span> 
       <span data-ttu-id="d07bb-211">Eventuali simboli non riconosciuti, ad esempio un nome di variabile non definito, verranno sostituiti da un testo segnaposto che deve essere sostituito manualmente dopo la formattazione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-211">Any unrecognized symbol (e.g. an undefined variable name) will be replaced by a placeholder text that needs to be replaced manually after formatting.</span></span> <span data-ttu-id="d07bb-212">In questo caso, la formattazione ha esito positivo durante la generazione di un avviso per il file interessato.</span><span class="sxs-lookup"><span data-stu-id="d07bb-212">In this case, the formatting succeeds while generating a warning for the affected file.</span></span>     
    - <span data-ttu-id="d07bb-213">La formattazione e in particolare gli spazi vuoti nel file verranno modificati nel codice generato.</span><span class="sxs-lookup"><span data-stu-id="d07bb-213">The formatting and in particular any white space in the file will be changed in the emitted code.</span></span> <span data-ttu-id="d07bb-214">I commenti verranno conservati.</span><span class="sxs-lookup"><span data-stu-id="d07bb-214">Comments will be preserved.</span></span>   
5. <span data-ttu-id="d07bb-215">Dopo aver eseguito questa operazione, potrebbe essere necessario risolvere manualmente le modifiche semantiche nei casi in cui l'interpretazione semantica del codice è cambiata.</span><span class="sxs-lookup"><span data-stu-id="d07bb-215">After running this, you might still need to manually address semantic changes in cases where the semantic interpretation of the code has changed.</span></span> <span data-ttu-id="d07bb-216">Tutti questi errori verranno segnalati da IntelliSense in Visual Studio o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d07bb-216">All these errors will be reported by IntelliSense in Visual Studio or Visual Studio Code.</span></span>
    - <span data-ttu-id="d07bb-217">Aprire la cartella radice del progetto o la soluzione contenitore in Visual Studio 2017 o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d07bb-217">Open the root folder of the project or the containing solution in Visual Studio 2017 or Visual Studio Code.</span></span>
    - <span data-ttu-id="d07bb-218">Dopo l'apertura di un file. QS nell'editor, l'output dell'estensione del linguaggio Q # verrà visualizzato nella finestra output.</span><span class="sxs-lookup"><span data-stu-id="d07bb-218">After opening a .qs file in the editor, you should see the output of the Q# language extension in the output window.</span></span>
    - <span data-ttu-id="d07bb-219">Dopo che il progetto è stato caricato correttamente (indicato nella finestra output), aprire ogni file e manualmente per risolvere tutti i problemi rimanenti.</span><span class="sxs-lookup"><span data-stu-id="d07bb-219">After the project has loaded successfully (indicated in the output window) open each file and manually to address all remaining issues.</span></span>


> [!NOTE]
> * <span data-ttu-id="d07bb-220">Per la versione 0,3, il server di linguaggio incluso in Quantum Development Kit non supporta più aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="d07bb-220">For the 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
> * <span data-ttu-id="d07bb-221">Per utilizzare un progetto in Visual Studio Code, aprire la cartella radice contenente il progetto stesso e tutti i progetti a cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="d07bb-221">In order to work with a project in Visual Studio Code, open the root folder containing the project itself and all referenced projects.</span></span>   
> * <span data-ttu-id="d07bb-222">Per lavorare con una soluzione in Visual Studio, tutti i progetti contenuti nella soluzione devono trovarsi nella stessa cartella della soluzione o in una delle relative sottocartelle.</span><span class="sxs-lookup"><span data-stu-id="d07bb-222">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>  
> * <span data-ttu-id="d07bb-223">I riferimenti tra i progetti migrati a 0,3 e versioni successive e i progetti che usano versioni precedenti dei pacchetti **non** sono supportati.</span><span class="sxs-lookup"><span data-stu-id="d07bb-223">References between projects migrated to 0.3 and higher and projects using older package versions are **not** supported.</span></span>




##<a name="MigrationScript"></a><span data-ttu-id="d07bb-224">Script di migrazione</span><span class="sxs-lookup"><span data-stu-id="d07bb-224">Migration script</span></span> ##

<span data-ttu-id="d07bb-225">Per semplificare la migrazione del progetto, viene fornito uno script di PowerShell che può essere scaricato [qui](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span><span class="sxs-lookup"><span data-stu-id="d07bb-225">In order to facilitate project migration, a PowerShell script is provided that can be downloaded [here](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span></span>
<span data-ttu-id="d07bb-226">Questo script consente di migrare i progetti dalla versione 0,2 del quantum Development Kit per usare la versione 0,3.</span><span class="sxs-lookup"><span data-stu-id="d07bb-226">This script helps migrate projects from version 0.2 of the Quantum Development Kit to use version 0.3.</span></span>

> [!NOTE]
> <span data-ttu-id="d07bb-227">Lo script di migrazione richiede l'esecuzione di Windows PowerShell o PowerShell core.</span><span class="sxs-lookup"><span data-stu-id="d07bb-227">The migration script requires Windows PowerShell or PowerShell Core to run.</span></span>
> <span data-ttu-id="d07bb-228">Windows PowerShell è preinstallato con Windows 10.</span><span class="sxs-lookup"><span data-stu-id="d07bb-228">Windows PowerShell comes pre-installed with Windows 10.</span></span>
> <span data-ttu-id="d07bb-229">Scaricare PowerShell core per Windows, macOS o Linux in https://github.com/PowerShell/PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d07bb-229">Download PowerShell Core for Windows, macOS, or Linux at https://github.com/PowerShell/PowerShell.</span></span>

<span data-ttu-id="d07bb-230">Lo script esegue i quattro passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="d07bb-230">The script executes the following four steps:</span></span>

- <span data-ttu-id="d07bb-231">Il progetto viene compilato con la versione precedente di Quantum Development Kit per garantire che la migrazione abbia probabilmente esito positivo.</span><span class="sxs-lookup"><span data-stu-id="d07bb-231">The project is built with the previous version of the Quantum Development Kit to ensure that migration is likely to succeed.</span></span> <span data-ttu-id="d07bb-232">Questo passaggio può essere ignorato utilizzando il parametro `-Force` per lo script.</span><span class="sxs-lookup"><span data-stu-id="d07bb-232">This step can be skipped by using the `-Force` parameter to the script.</span></span>
- <span data-ttu-id="d07bb-233">Sono installati nuovi modelli di progetto.</span><span class="sxs-lookup"><span data-stu-id="d07bb-233">New project templates are installed.</span></span>
- <span data-ttu-id="d07bb-234">Il progetto viene aggiornato per usare la versione corrente di Quantum Development Kit.</span><span class="sxs-lookup"><span data-stu-id="d07bb-234">The project is updated to use the current version of the Quantum Development Kit.</span></span>
- <span data-ttu-id="d07bb-235">Lo strumento di formattazione fornito con la versione 0,3 di Quantum Development Kit viene applicato per risolvere automaticamente la maggior parte delle modifiche di rilievo documentate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="d07bb-235">The formatting tool provided with version 0.3 of the Quantum Development Kit is applied to automatically address most of the breaking changes documented above.</span></span>

<span data-ttu-id="d07bb-236">Al termine di questi quattro passaggi, potrebbero verificarsi alcuni problemi di migrazione rimanenti che devono essere gestiti manualmente.</span><span class="sxs-lookup"><span data-stu-id="d07bb-236">After these four steps complete, there may be some remaining migration issues which must be handled manually.</span></span>
<span data-ttu-id="d07bb-237">L'uso della versione più recente di Quantum Development Kit Extensions per Visual Studio 2017 e Visual Studio Code può aiutarti a trovare facilmente questi problemi.</span><span class="sxs-lookup"><span data-stu-id="d07bb-237">Using the latest version of the Quantum Development Kit extensions for Visual Studio 2017 and Visual Studio Code can help find these issues easily.</span></span>

<span data-ttu-id="d07bb-238">La documentazione per lo script può essere ottenuta eseguendo uno dei comandi seguenti nella cartella in cui si trova lo script:</span><span class="sxs-lookup"><span data-stu-id="d07bb-238">The documentation for the script can be obtained by running one of the following commands in the folder where the script is located:</span></span>

```powershell
Get-Help ./qdk-migrate.ps1
Get-Help -Online ./qdk-migrate.ps1
```

> [!NOTE]
> <span data-ttu-id="d07bb-239">Per impostazione predefinita, Windows impedisce l'esecuzione di qualsiasi script come misura di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d07bb-239">By default, Windows prevents the execution of any scripts as a security measure.</span></span>
> <span data-ttu-id="d07bb-240">Per consentire l'esecuzione di script come `qdk-migrate.ps1` in Windows, potrebbe essere necessario modificare i criteri di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="d07bb-240">To allow scripts such as `qdk-migrate.ps1` to run on Windows, you may need to change the execution policy.</span></span>
> <span data-ttu-id="d07bb-241">A tale scopo, eseguire il comando `Set-ExecutionPolicy`:</span><span class="sxs-lookup"><span data-stu-id="d07bb-241">To do so, run the `Set-ExecutionPolicy` command:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope Process
> ```
> <span data-ttu-id="d07bb-242">Quando si esce da PowerShell, i criteri di esecuzione verranno ripristinati.</span><span class="sxs-lookup"><span data-stu-id="d07bb-242">The execution policy will then be reverted when you exit PowerShell.</span></span>
> <span data-ttu-id="d07bb-243">Se si desidera salvare i criteri di esecuzione, utilizzare un valore diverso per `-Scope`:</span><span class="sxs-lookup"><span data-stu-id="d07bb-243">If you would like to save the execution policy, use a different value for `-Scope`:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

